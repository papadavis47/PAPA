<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>PAPA</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <link rel="stylesheet" href="../css/main.css" />
  </head>
  <body>
    <div id="wrapper">
    <header>
      <h1 id="aboutClickItem" title="Click here for more information">PAPA</h1>
      <img id="icon-1" src="../assets/icons/dadicon.png" alt="Father playing with child" title="Click Here To Enter Your Space">
    </header>
    <section id="information">
      <p id="direction">Click the icon or press F1 to enter your space</p>
      <div class="statements">
      <p>A journaling application for fathers</p>
    </div>
      <button class="myButton" id="journal-entry">Make a Journal Entry</button>
      <div class="statements">
      <p>Create a unique section for each of your kids</p>
    </div>
      <button class="myButton" id="testOne">Add a Section</button>
      <div class="statements">
      <p>Capture memories and/or document ideas and plans</p>
    </div>
      <button class="myButton">Create a Scrapbook</button>
    </section>
    <main>
    </div>
    <!-- Show the new journal entry -->
    <div id="modal-2">
      <div id="journal-entries"></div>
    <div id="entry"></div>
    </div>
  </main>
  <script src="../app.js"></script>
  <script src="../menu.js"></script>
  <script>
    const electron = require('electron')
    
    const about = document.getElementById('aboutClickItem')

    about.addEventListener('click', (e) => {
        ipcRenderer.send("aboutPage")
    });
    </script>
    <script>

      const entryForm = document.getElementById('journal-entry')

      entryForm.addEventListener('click', (e) => {
        wrapper.style.display = "none"
        displayEntry.style.display = "flex"
        ipcRenderer.send('write')
      });

      //-----------------------Above is the logic to show the form to input a journal entry ---------
      // ----------------------And prepare the main window to hold the entry ------------------------
      const journalHolder = document.getElementById('entry')
      // Add Journal Entry
      ipcRenderer.on("entry:add", (e, thought) => {
        console.log(thought)
        const paragraph = document.createElement("div");
        console.log(paragraph);
        console.log(journalHolder);
        const node = document.createTextNode(thought);
        console.log(node);
        paragraph.appendChild(node);
        journalHolder.appendChild(paragraph);
      });

    </script>
  </body>
</html>
